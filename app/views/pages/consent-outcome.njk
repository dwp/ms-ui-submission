{% extends "layouts/custom-journey.njk" %}

{% from "casa/components/radios/macro.njk" import casaGovukRadios with context %}
{% from "govuk/components/fieldset/macro.njk" import govukFieldset %}

{% block casaPageTitle %}
    {{ t('consent-outcome:pageTitle') }}
{% endblock %}

{% block journey_form %}
    {% call govukFieldset({
      legend: {
        text: t('consent-outcome:heading'),
        classes: "govuk-fieldset__legend--l",
        isPageHeading: true
      }
    }) %}

        <p class="govuk-body">{{ t('consent-outcome:p1' ) | safe }}</p>
        <p class="govuk-body">{{ t('consent-outcome:p2' ) | safe }}</p>
        <p class="govuk-body">{{ t('consent-outcome:p3' ) | safe }}</p>
        <p class="govuk-body">{{ t('consent-outcome:p4' ) | safe }}</p>

        <div>
            <h2 class="govuk-heading-m">{{ t('consent-outcome:subHead') }}</h2>
        </div>

        {{ casaGovukRadios({
            name: 'dwpShareWithDoc',
            casaValue: formData.dwpShareWithDoc,
            casaErrors: formErrors,
            items: [{
                checked : formData.dwpShareWithDoc === 'yes',
                value: 'yes',
                text: t('consent-outcome:yes'),
                attributes: {
                    'data-question': t('consent-outcome:heading'),
                    'data-answer': t('consent-outcome:yes')
                }
            }, {
                checked : formData.dwpShareWithDoc === 'no',
                value: 'no',
                text: t('consent-outcome:no'),
                attributes: {
                    'data-question': t('consent-outcome:heading'),
                    'data-answer': t('consent-outcome:no')
                }
            }]
        }) }}
    {% endcall %}
{% endblock %}
